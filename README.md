# LLM推理大师 - AI剧本杀游戏平台

## 项目简介

LLM推理大师是一个基于大语言模型的Web剧本杀游戏平台。玩家可以与AI NPC一起参与精彩的推理游戏，体验智能化的游戏互动。

## 功能特性

### 🎭 智能AI体验
- **AI NPC参与**: 智能NPC根据剧情和角色性格进行发言
- **动态剧本生成**: 使用LLM根据指定要求生成完整剧本
- **智能轮次推进**: AI自动判断讨论进度，决定是否进入下一轮
- **个性化总结**: 为每个玩家生成专属的游戏复盘和点评

### 👥 社交功能
- **好友系统**: 添加好友，查看在线状态
- **房间创建**: 创建或加入游戏房间
- **实时聊天**: 游戏内外的实时交流
- **剧本分享**: 收藏和分享精彩剧本

### 📚 剧本管理
- **剧本收藏**: 保存喜欢的剧本到个人收藏
- **剧本编辑**: 与AI对话式编辑和创作剧本
- **好友分享**: 将剧本分享给好友

## 技术架构

### 前端技术
- **Next.js 15**: 使用App Router的React框架
- **TypeScript**: 类型安全的JavaScript
- **Tailwind CSS**: 实用优先的CSS框架
- **React Hooks**: 现代React状态管理

### 后端技术
- **Next.js API Routes**: 服务端API接口
- **本地JSON存储**: 文件系统数据存储
- **Google Gemini API**: LLM模型服务

### AI模型使用
- **Gemini 2.5 Pro**: 用于剧本生成和游戏总结
- **Gemini 2.0 Flash**: 用于NPC决策和轮次判断

## 快速开始

### 环境要求
- Node.js 18+
- npm 或 yarn

### 安装运行
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm start
```

### 测试账号
- 用户名: 小明、小林、小宝
- 密码: 123456

## 项目结构

```
├── src/
│   ├── app/                 # Next.js页面和API路由
│   │   ├── api/            # 后端API接口
│   │   ├── globals.css     # 全局样式
│   │   ├── layout.tsx      # 应用布局
│   │   └── page.tsx        # 主页面
│   ├── components/         # React组件
│   ├── lib/               # 核心功能库
│   │   ├── storage.ts     # 数据存储操作
│   │   ├── llm.ts         # LLM API调用
│   │   └── utils.ts       # 工具函数
│   └── types/             # TypeScript类型定义
├── data/                   # JSON数据文件
├── .github/               # GitHub配置
└── public/                # 静态资源
```

## 数据模型

### 用户 (User)
- 基本信息: ID、用户名、密码
- 社交数据: 好友列表、在线状态
- 游戏数据: 收藏剧本、聊天记录、游戏历史

### 房间 (Room)
- 房间信息: ID、名称、房主
- 玩家管理: 玩家列表、最大人数
- 游戏状态: 等待/进行中/已结束

### 剧本 (Script)
- 剧本元数据: 标题、轮数、创建信息
- 游戏内容: 故事背景、各轮剧情、私人线索

### 游戏记录 (GameRecord)
- 游戏配置: 房间、剧本、AI NPC设置
- 游戏进程: 轮次记录、聊天消息、讨论状态
- 结果数据: 游戏总结、玩家点评

## 游戏流程

1. **登录系统**: 用户登录后进入游戏大厅
2. **创建/加入房间**: 房主创建房间，其他玩家加入
3. **配置游戏**: 设置AI NPC、剧情要求、游戏轮数
4. **生成剧本**: LLM根据要求生成完整剧本
5. **阅读背景**: 所有玩家阅读故事背景
6. **轮次游戏**: 
   - 显示当轮剧情和私人线索
   - 玩家自由讨论
   - AI NPC智能参与
   - 自动或手动进入下一轮
7. **游戏结束**: 
   - 生成个性化游戏总结
   - 提供剧本收藏选项

## 开发说明

### 代码规范
- 使用TypeScript严格模式
- 遵循ESLint配置规则
- 组件采用函数式编程
- 使用自定义Hook管理状态

### 样式指南
- 采用深色主题设计
- 使用Tailwind自定义配色
- 注重动画和交互效果
- 响应式设计适配移动端

### API设计
- RESTful接口规范
- 统一的错误处理
- JSON数据格式
- 类型安全的请求/响应

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 项目Issues
- 邮件联系

---

**LLM推理大师** - 让AI为你的推理游戏增添无限可能！
